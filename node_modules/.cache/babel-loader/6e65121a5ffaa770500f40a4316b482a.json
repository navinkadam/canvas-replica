{"ast":null,"code":"import _classCallCheck from \"/home/admin1/Documents/canvas replicas/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/admin1/Documents/canvas replicas/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/admin1/Documents/canvas replicas/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/admin1/Documents/canvas replicas/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/admin1/Documents/canvas replicas/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/admin1/Documents/canvas replicas/src/Component/CopyPaste/CopyPaste.jsx\";\nimport React, { PureComponent } from \"react\";\n\nvar CopyPaste =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(CopyPaste, _PureComponent);\n\n  function CopyPaste() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CopyPaste);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CopyPaste)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      cloneObject: null\n    };\n\n    _this.onCopy = function (e) {\n      if (_this.props.canvas.getActiveObject() === undefined || _this.props.canvas.getActiveObject() === null) {\n        return \"\";\n      }\n\n      _this.props.canvas.getActiveObject().clone(function (cloned) {\n        _this.setState({\n          cloneObject: cloned\n        });\n      });\n    };\n\n    _this.onPaste = function (e) {\n      var _cloneObject = _this.state.cloneObject;\n\n      if (!_cloneObject) {\n        return \"\";\n      }\n\n      _cloneObject.clone(function (clonedObj) {\n        _this.props.canvas.discardActiveObject();\n\n        clonedObj.set({\n          left: clonedObj.left + 10,\n          top: clonedObj.top + 10,\n          evented: true\n        });\n\n        if (clonedObj.type === \"activeSelection\") {\n          clonedObj.canvas = _this.props.canvas;\n          clonedObj.forEachObject(function (obj) {\n            this.props.canvas.add(obj);\n          });\n          clonedObj.setCoords();\n          alert(\"activeSelection\");\n        } else {\n          _this.props.canvas.add(clonedObj);\n        }\n\n        _cloneObject.top += 10;\n        _cloneObject.left += 10;\n\n        _this.props.canvas.setActiveObject(clonedObj);\n\n        _this.props.canvas.requestRenderAll();\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CopyPaste, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      document.addEventListener(\"keydown\", function (key) {\n        if (_this2.props.canvas.getActiveObject()) {\n          if ((key.ctrlKey || key.keyCode === 17) && key.keyCode === 86) // 17 ctrl 86 V\n            //selected Object Paste\n            _this2.onPaste();\n          if ((key.ctrlKey || key.keyCode === 17) && key.keyCode === 67) // 17 ctrl 86 C\n            //selected Object Copy\n            _this2.onCopy();\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"keypress\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.onCopy,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Copy\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.onPaste,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Paste\")));\n    }\n  }]);\n\n  return CopyPaste;\n}(PureComponent);\n\nexport { CopyPaste as default };","map":{"version":3,"sources":["/home/admin1/Documents/canvas replicas/src/Component/CopyPaste/CopyPaste.jsx"],"names":["React","PureComponent","CopyPaste","state","cloneObject","onCopy","e","props","canvas","getActiveObject","undefined","clone","cloned","setState","onPaste","_cloneObject","clonedObj","discardActiveObject","set","left","top","evented","type","forEachObject","obj","add","setCoords","alert","setActiveObject","requestRenderAll","document","addEventListener","key","ctrlKey","keyCode","removeEventListener"],"mappings":"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","sourcesContent":["import React, { PureComponent } from \"react\";\n\nexport default class CopyPaste extends PureComponent {\n  state = {\n    cloneObject: null\n  };\n  onCopy = e => {\n    if (\n      this.props.canvas.getActiveObject() === undefined ||\n      this.props.canvas.getActiveObject() === null\n    ) {\n      return \"\";\n    }\n    this.props.canvas.getActiveObject().clone(cloned => {\n      this.setState({ cloneObject: cloned });\n    });\n  };\n\n  onPaste = e => {\n    let _cloneObject = this.state.cloneObject;\n    if (!_cloneObject) {\n      return \"\";\n    }\n    _cloneObject.clone(clonedObj => {\n      this.props.canvas.discardActiveObject();\n      clonedObj.set({\n        left: clonedObj.left + 10,\n        top: clonedObj.top + 10,\n        evented: true\n      });\n      if (clonedObj.type === \"activeSelection\") {\n        clonedObj.canvas = this.props.canvas;\n        clonedObj.forEachObject(function(obj) {\n          this.props.canvas.add(obj);\n        });\n        clonedObj.setCoords();\n        alert(\"activeSelection\");\n      } else {\n        this.props.canvas.add(clonedObj);\n      }\n      _cloneObject.top += 10;\n      _cloneObject.left += 10;\n      this.props.canvas.setActiveObject(clonedObj);\n      this.props.canvas.requestRenderAll();\n    });\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", key => {\n      if (this.props.canvas.getActiveObject()) {\n        if ((key.ctrlKey || key.keyCode === 17) && key.keyCode === 86)\n          // 17 ctrl 86 V\n          //selected Object Paste\n          this.onPaste();\n        if ((key.ctrlKey || key.keyCode === 17) && key.keyCode === 67)\n          // 17 ctrl 86 C\n          //selected Object Copy\n          this.onCopy();\n      }\n    });\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"keypress\");\n  }\n\n  render() {\n    return (\n      <>\n        <div>\n          <button onClick={this.onCopy}>Copy</button>\n        </div>\n        <div>\n          <button onClick={this.onPaste}>Paste</button>\n        </div>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}