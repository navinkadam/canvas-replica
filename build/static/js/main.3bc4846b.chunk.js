(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(39)},25:function(e,t,a){},26:function(e,t,a){},31:function(e,t){},32:function(e,t){},33:function(e,t){},34:function(e,t){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(17),l=a.n(i),r=(a(25),a(4)),s=a(5),o=a(8),v=a(6),u=a(7),d=(a(26),a(1)),g=a(11),m="lading",f="getImages";var p="loading",h="getFont";var b=Object(n.memo)(function(e){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){var t=new d.fabric.Textbox("type text",{left:50,top:20,width:80,height:200,fontFamily:"helvetica neue",fill:"black",stroke:"#fff",fontSize:22.5,strokeWidth:0});t.setControlsVisibility({mt:!1,mb:!1}),e.canvas.add(t),e.canvas.renderAll()}},"Add Text"))}),y=Object(n.memo)(function(e){var t=e.src,a=e.onDragStart;return c.a.createElement("div",{className:"content"},c.a.createElement("img",{draggable:!0,src:"/assets/image/".concat(t),alt:"alt ".concat(t),onDragStart:a}))}),j=Object(n.memo)(function(e){var t=e.selectedFontFamily,a=e.onChangeFontFamily,n=e.fonts;return a&&n?c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"fontFamily"},"Font Family : "),c.a.createElement("select",{id:"fontFamily",name:"font-family",value:t,onChange:a},n.map(function(e,t){return c.a.createElement("option",{key:"".concat(t),value:"".concat(e)},"".concat(e))}))):(alert("fill all details--\x3e onChangeFontFamily && fonts"),c.a.createElement("div",null,"fill all details--\x3e onChangeFontFamily && fonts"))}),A=Object(n.memo)(function(e){var t=e.id,a=e.type,n=e.value,i=e.onChange,l=e.displayText;return t&&a&&i&&l?c.a.createElement("div",null,c.a.createElement("label",{htmlFor:t},l," : "),c.a.createElement("input",{id:t,type:a,value:n,onChange:i})):(alert("fill all details--\x3e id, type, value, onChangeFontSize, displayText"),c.a.createElement("div",null,"fill all details--\x3e id, type, value, onChangeFontSize, displayText"))}),E=Object(n.memo)(function(e){var t=e.selectedTextAlign,a=e.onChangeTextAlign,n=e.aligns;return a&&n?c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"textAlign"},"Text Align : "),c.a.createElement("select",{id:"textAlign",name:"Text-Align",value:t,onChange:a},n.map(function(e,t){return c.a.createElement("option",{key:"".concat(t),value:"".concat(e)},"".concat(e))}))):(alert("fill all details--\x3e onChangeTextAlign,aligns "),c.a.createElement("div",null,"fill all details--\x3e onChangeTextAlign,aligns "))}),O=Object(n.memo)(function(e){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(t){var a=document.createElement("a");a.href=e.canvas.toDataURL({format:"png",quality:1,multiplier:1}),a.download="custom.png",a.click()}},"download Image"))}),C=Object(n.memo)(function(e){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(t){if(!e.canvas.getActiveObject()||"activeSelection"!==e.canvas.getActiveObject().type)return"";e.canvas.getActiveObject().toGroup(),e.canvas.renderAll()}},"Group"))}),S=Object(n.memo)(function(e){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(t){e.canvas.getActiveObject()&&"group"===e.canvas.getActiveObject().type&&(e.canvas.getActiveObject().toActiveSelection(),e.canvas.renderAll())}},"UnGroup"))}),x=Object(n.memo)(function(e){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(t){e.canvas.discardActiveObject();var a=new d.fabric.ActiveSelection(e.canvas.getObjects(),{canvas:e.canvas});e.canvas.setActiveObject(a),e.canvas.renderAll()}},"Multiple Selection"))}),F=Object(n.memo)(function(e){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(t){if(!e.canvas.getActiveObject())return"";e.canvas.sendToBack(e.canvas.getActiveObject()),e.canvas.renderAll()}},"Backward"))}),k=Object(n.memo)(function(e){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(t){if(!e.canvas.getActiveObject())return"";e.canvas.bringForward(e.canvas.getActiveObject()),e.canvas.renderAll()}},"forward"))}),T=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(c)))).state={value:a.props.value},a.onChange=function(e){"letterSpacing"===e.target.id?a.onChangeLetterSpacing(e):"lineHeight"===e.target.id?a.onChangeLineHeight(e):"transparent"===e.target.id&&a.onChangeTransparent(e)},a.onChangeLetterSpacing=function(e){if(!a.props.canvas.getActiveObject())return alert("select Text");a.setState({value:e.target.value}),a.props.canvas.getActiveObject().set("charSpacing",e.target.value),a.props.canvas.renderAll()},a.onChangeLineHeight=function(e){if(!a.props.canvas.getActiveObject())return alert("select Text");a.setState({value:e.target.value}),a.props.canvas.getActiveObject().set("lineHeight",e.target.value),a.props.canvas.renderAll()},a.onChangeTransparent=function(e){if(!a.props.canvas.getActiveObject())return alert("select object");a.setState({value:e.target.value}),a.props.canvas.getActiveObject().set("opacity",String(.01*e.target.value).substr(0,4)),a.props.canvas.renderAll()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("label",{htmlFor:this.props.id},this.props.displayText," : "),c.a.createElement("input",{id:this.props.id,type:"range",value:this.state.value,onChange:this.onChange,min:this.props.rangeMin,max:this.props.rangeMax,step:this.props.rangeStep})))}}]),t}(n.Component),w=Object(n.memo)(function(e){var t=function(t){"normal"===e.canvas.getActiveObject().fontWeight?(e.canvas.getActiveObject().set("fontWeight","bold"),e.canvas.renderAll()):"bold"===e.canvas.getActiveObject().fontWeight&&(e.canvas.getActiveObject().set("fontWeight","normal"),e.canvas.renderAll())},a=function(t){e.canvas.getActiveObject().underline?(e.canvas.getActiveObject().set("underline",!1),e.canvas.renderAll()):(e.canvas.getActiveObject().set("underline",!0),e.canvas.renderAll())},n=function(t){"normal"===e.canvas.getActiveObject().fontStyle?(e.canvas.getActiveObject().set("fontStyle","italic"),e.canvas.renderAll()):(e.canvas.getActiveObject().set("fontStyle","normal"),e.canvas.renderAll())};return c.a.createElement("div",null,c.a.createElement("button",{id:e.id,onClick:function(e){"bold"===e.target.id?t(e):"underLine"===e.target.id?a(e):"italic"===e.target.id&&n(e)}},e.displayText))});d.fabric.Object.prototype.set({borderColor:"#53c5bf",cornerColor:"#acdab5b8",cornerSize:10,padding:1,hasBorders:!0,rotatingPointOffset:20,cornerStyle:"circle"});var L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(v.a)(t).call(this,e))).state={canvas:"",selectedImg:"",selectedColor:"#000000",selectedBackGroundColor:"#77a05f",selectedFontFamily:"Helvetica Neue",fontSize:30,copyPasteVisibility:!1,textVisibility:!1,selectedTextAlign:"",fontFamilys:[],textAligns:["left","right","center","justify"],imgSrc:[],cloneObject:""},a.onDragStart=function(e){a.setState({selectedImg:e.target})},a.drawImage=function(){d.fabric.Image.fromURL(a.state.selectedImg.src,function(e){e.set({left:0,top:0}),e.scaleToHeight(500),e.scaleToWidth(500),a.state.canvas.add(e).renderAll()})},a.onChangeFontFamily=function(e){if(!a.state.canvas.getActiveObject())return alert("select Text");a.setState({selectedFontFamily:e.target.value}),a.state.canvas.getActiveObject().set("fontFamily",e.target.value),a.state.canvas.renderAll()},a.onChangeTextAlign=function(e){if(!a.state.canvas.getActiveObject())return alert("select Text");a.setState({selectedTextAlign:e.target.value}),a.state.canvas.getActiveObject().set("textAlign",e.target.value),a.state.canvas.renderAll()},a.onRemoveElement=function(e){a.state.canvas.remove(a.state.canvas.getActiveObject())},a.onChangeColor=function(e){if(!a.state.canvas.getActiveObject())return alert("select Text");a.setState({selectedColor:e.target.value}),a.state.canvas.getActiveObject().set("fill",e.target.value),a.state.canvas.renderAll()},a.onChangeBackGroundColor=function(e){a.setState({selectedBackGroundColor:e.target.value},function(){a.state.canvas.setBackgroundColor(a.state.selectedBackGroundColor,function(){a.state.canvas.renderAll()})})},a.onChangeFontSize=function(e){if(/^\d*$/.test(e.target.value)){if(!a.state.canvas.getActiveObject())return alert("select Text");a.setState({fontSize:e.target.value}),a.state.canvas.getActiveObject().set("fontSize",72*e.target.value/96),a.state.canvas.renderAll()}},a.onCopy=function(e){if(void 0===a.state.canvas.getActiveObject()||null===a.state.canvas.getActiveObject())return"";a.state.canvas.getActiveObject().clone(function(e){a.setState({cloneObject:e})})},a.onPaste=function(e){var t=a.state.cloneObject;if(""===t||null===t||void 0===t)return"";t.clone(function(e){a.state.canvas.discardActiveObject(),e.set({left:e.left+10,top:e.top+10,evented:!0}),"activeSelection"===e.type?(e.canvas=a.state.canvas,e.forEachObject(function(e){this.state.canvas.add(e)}),e.setCoords(),alert("activeSelection")):a.state.canvas.add(e),t.top+=10,t.left+=10,a.state.canvas.setActiveObject(e),a.state.canvas.requestRenderAll()})},a.canvasRef=c.a.createRef(),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new d.fabric.Canvas(this.canvasRef.current,{preserveObjectStacking:!0,uniScaleTransform:!0});this.setState({canvas:t}),t.on("drop",this.drawImage),t.on("text:editing:entered",function(t){e.setState({textVisibility:!0})}),t.on("text:editing:exited",function(t){e.setState({textVisibility:!1})}),t.on("object:selected",function(t){e.setState({copyPasteVisibility:!0})}),t.on("selection:cleared",function(t){e.setState({copyPasteVisibility:!1})}),document.addEventListener("keydown",function(a){t.getActiveObject()&&(a.shiftKey&&68===a.keyCode&&e.onRemoveElement(),!a.ctrlKey&&17!==a.keyCode||86!==a.keyCode||e.onPaste(),!a.ctrlKey&&17!==a.keyCode||67!==a.keyCode||e.onCopy())}),this.props.onGetImageSrc(),this.props.onGetFontsList()}},{key:"componentWillUnmount",value:function(){this.state.canvas.off("drop"),document.removeEventListener("keypress")}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"left"},this.state.imgSrc.map(function(t,a){return c.a.createElement(y,{src:t,key:a,onDragStart:e.onDragStart})})),c.a.createElement("div",{className:"right"},c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",padding:"20px"}},c.a.createElement(A,{id:"backGroundColor",type:"color",value:this.state.selectedBackGroundColor,onChange:this.onChangeBackGroundColor,displayText:"Background Color"}),c.a.createElement(b,{canvas:this.state.canvas}),c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(x,{canvas:this.state.canvas}),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(t){return e.state.canvas.discardActiveObject()&&e.state.canvas.requestRenderAll()}},"Deselect"))),c.a.createElement(O,{canvas:this.state.canvas}),c.a.createElement("div",{style:{display:"flex"},className:this.state.copyPasteVisibility?"":"visibility"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(C,{canvas:this.state.canvas}),c.a.createElement(S,{canvas:this.state.canvas})),c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(F,{canvas:this.state.canvas}),c.a.createElement(k,{canvas:this.state.canvas})),c.a.createElement(T,{canvas:this.state.canvas,id:"transparent",displayText:"Transparent",rangeMin:0,rangeMax:100,rangeStep:10,value:100}),c.a.createElement("div",null,c.a.createElement("button",{onClick:this.onCopy},"Copy")),c.a.createElement("div",null,c.a.createElement("button",{onClick:this.onPaste},"Paste")))),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",padding:"20px"},className:this.state.textVisibility?"":"visibility"},c.a.createElement(j,{selectedFontFamily:this.state.selectedFontFamily,fonts:this.state.fontFamilys,onChangeFontFamily:this.onChangeFontFamily}),c.a.createElement(E,{selectedTextAlign:this.state.selectedTextAlign,onChangeTextAlign:this.onChangeTextAlign,aligns:this.state.textAligns}),c.a.createElement(A,{id:"fontColor",type:"color",value:this.state.selectedColor,onChange:this.onChangeColor,displayText:"Font Color"}),c.a.createElement(A,{id:"fontSize",type:"text",value:this.state.fontSize,onChange:this.onChangeFontSize,displayText:"Font Size"}),c.a.createElement(T,{canvas:this.state.canvas,id:"lineHeight",displayText:"Line Height",rangeMin:.5,rangeMax:2.5,rangeStep:.2,value:1.16}),c.a.createElement(T,{canvas:this.state.canvas,id:"letterSpacing",displayText:"Letter Spacing",rangeMin:-200,rangeMax:800,rangeStep:1,value:10}),c.a.createElement(w,{id:"bold",canvas:this.state.canvas,displayText:"B"}),c.a.createElement(w,{id:"underLine",canvas:this.state.canvas,displayText:"U"}),c.a.createElement(w,{id:"italic",canvas:this.state.canvas,displayText:"I"}))),c.a.createElement("canvas",{ref:this.canvasRef,height:"500%",width:"700%",className:"canvas"})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 4===e.imgSrcData.readyState?{imgSrc:e.imgSrcData.imgSrcList}:4===e.fontListData.readyState?{fontFamilys:e.fontListData.fontList}:null}}]),t}(n.PureComponent),D={onGetImageSrc:function(){var e=["1.jpg","2.jpg","3.jpg","4.jpg","5.png","6.jpg","7.jpg","8.jpg","9.jpg","10.png","11.jpg","12.jpg","13.jpg","14.jpg"];return function(t){t({type:m,payload:[]}),setTimeout(function(){t({type:f,payload:e})},1e3)}},onGetFontsList:function(){var e=["arial","monaco","hoefler text","optima","plaster","engagement","VT323","Helvetica Neue","myriad pro","comic sans ms","delicious","verdana","georgia","courier","impact"];return function(t){t({type:p,payload:[]}),setTimeout(function(){t({type:h,payload:e})},10)}}},I=Object(g.b)(function(e){return{imgSrcData:e.getImagesSrc,fontListData:e.getFontList}},D)(L),B=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(I,null))}}]),t}(n.Component),G=a(2),z=a(19);var P=Object(G.c)({getImagesSrc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{imgSrcList:t.payload,readyState:1};case f:return{imgSrcList:t.payload,readyState:4};default:return e}},getFontList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{fontList:t.payload,readyState:1};case h:return{fontList:t.payload,readyState:4};default:return e}}}),M=Object(G.e)(P,{getImagesSrc:[],getFontList:[]},Object(G.d)(Object(G.a)(z.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(g.a,{store:M},c.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.3bc4846b.chunk.js.map